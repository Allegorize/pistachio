
var fs = require('fs');
var compile = require('../');

var template = fs.readFileSync(__dirname+'/test.tpl', 'utf-8');
var data = JSON.parse(fs.readFileSync(__dirname+'/test.json', 'utf-8'));

console.log('================================================================================');
console.log('== Template ====================================================================');
console.log('================================================================================');
console.log(template);
console.log('================================================================================');
console.log('== Compiled ====================================================================');
console.log('================================================================================');
var compiled = compile(template, { keepSpace:true, start:'((', end:'))', closeVoid:true });
console.log(compiled.toString());
console.log('================================================================================');
console.log('== Data ========================================================================');
console.log('================================================================================');
console.log(JSON.stringify(data,undefined,'  '));
console.log('================================================================================');
console.log('== Rendered ====================================================================');
console.log('================================================================================');
console.log(compiled(data));
console.log('================================================================================');
